{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar defaultResetEvents = [\"load\", \"mousemove\", \"mousedown\", \"mouseup\", \"keypress\", \"DOMMouseScroll\", \"mousewheel\", \"MSPointerMove\", \"click\", \"scroll\", \"touchstart\", \"touchmove\", \"touchend\"];\n\nvar IdleSessionTimeout = function () {\n  function IdleSessionTimeout(timeSpan) {\n    var resetEvents = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      resetEvents[_i - 1] = arguments[_i];\n    }\n\n    var _this = this;\n\n    this.start = function () {\n      var e_1, _a;\n\n      if (_this.onTimeOut === undefined) {\n        console.error(\"Missing onTimeOut method\");\n        return;\n      }\n\n      try {\n        for (var _b = __values(_this._resetEvents), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var event_1 = _c.value;\n          window.addEventListener(event_1, _this.reset);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      if (_this.onTimeLeftChange !== undefined) {\n        _this._timeLeftChangeEvent = window.setInterval(_this._onTimeLeftChange, 1000);\n      }\n\n      _this.reset();\n    };\n\n    this.reset = function () {\n      if (_this._timerId !== undefined) {\n        window.clearTimeout(_this._timerId);\n      }\n\n      _this._timerId = window.setTimeout(_this._onTimeOut, _this._timeSpan);\n      _this._restTime = Date.now();\n    };\n\n    this.dispose = function () {\n      var e_2, _a;\n\n      try {\n        for (var _b = __values(_this._resetEvents), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var event_2 = _c.value;\n          window.removeEventListener(event_2, _this.reset);\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      if (_this._timerId !== undefined) {\n        window.clearTimeout(_this._timerId);\n      }\n\n      if (_this._timeLeftChangeEvent !== undefined) {\n        window.clearInterval(_this._timeLeftChangeEvent);\n      }\n    };\n\n    this.getTimeLeft = function () {\n      return _this._timeSpan - (Date.now() - _this._restTime);\n    };\n\n    this._onTimeOut = function () {\n      _this.onTimeOut();\n\n      _this.dispose();\n    };\n\n    this._onTimeLeftChange = function () {\n      _this.onTimeLeftChange(_this.getTimeLeft());\n    };\n\n    this._timeSpan = timeSpan;\n    this._resetEvents = resetEvents.length == 0 ? defaultResetEvents : resetEvents;\n  }\n\n  return IdleSessionTimeout;\n}();\n\nexports.IdleSessionTimeout = IdleSessionTimeout;","map":{"version":3,"sources":["../../src/services/IdleSessionTimeout.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar defaultResetEvents = [\r\n    \"load\",\r\n    \"mousemove\",\r\n    \"mousedown\",\r\n    \"mouseup\",\r\n    \"keypress\",\r\n    \"DOMMouseScroll\",\r\n    \"mousewheel\",\r\n    \"MSPointerMove\",\r\n    \"click\",\r\n    \"scroll\",\r\n    \"touchstart\",\r\n    \"touchmove\",\r\n    \"touchend\"\r\n];\r\nvar IdleSessionTimeout = (function () {\r\n    function IdleSessionTimeout(timeSpan) {\r\n        var resetEvents = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            resetEvents[_i - 1] = arguments[_i];\r\n        }\r\n        var _this = this;\r\n        this.start = function () {\r\n            var e_1, _a;\r\n            if (_this.onTimeOut === undefined) {\r\n                console.error(\"Missing onTimeOut method\");\r\n                return;\r\n            }\r\n            try {\r\n                for (var _b = __values(_this._resetEvents), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var event_1 = _c.value;\r\n                    window.addEventListener(event_1, _this.reset);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            if (_this.onTimeLeftChange !== undefined) {\r\n                _this._timeLeftChangeEvent = window.setInterval(_this._onTimeLeftChange, 1000);\r\n            }\r\n            _this.reset();\r\n        };\r\n        this.reset = function () {\r\n            if (_this._timerId !== undefined) {\r\n                window.clearTimeout(_this._timerId);\r\n            }\r\n            _this._timerId = window.setTimeout(_this._onTimeOut, _this._timeSpan);\r\n            _this._restTime = Date.now();\r\n        };\r\n        this.dispose = function () {\r\n            var e_2, _a;\r\n            try {\r\n                for (var _b = __values(_this._resetEvents), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var event_2 = _c.value;\r\n                    window.removeEventListener(event_2, _this.reset);\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n            if (_this._timerId !== undefined) {\r\n                window.clearTimeout(_this._timerId);\r\n            }\r\n            if (_this._timeLeftChangeEvent !== undefined) {\r\n                window.clearInterval(_this._timeLeftChangeEvent);\r\n            }\r\n        };\r\n        this.getTimeLeft = function () {\r\n            return _this._timeSpan - (Date.now() - _this._restTime);\r\n        };\r\n        this._onTimeOut = function () {\r\n            _this.onTimeOut();\r\n            _this.dispose();\r\n        };\r\n        this._onTimeLeftChange = function () {\r\n            _this.onTimeLeftChange(_this.getTimeLeft());\r\n        };\r\n        this._timeSpan = timeSpan;\r\n        this._resetEvents =\r\n            resetEvents.length == 0 ? defaultResetEvents : resetEvents;\r\n    }\r\n    return IdleSessionTimeout;\r\n}());\r\nexports.IdleSessionTimeout = IdleSessionTimeout;\r\n//# sourceMappingURL=IdleSessionTimeout.js.map"]},"metadata":{},"sourceType":"script"}